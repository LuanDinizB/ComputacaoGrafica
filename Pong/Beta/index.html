<html>

<head>
  <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
  <script
    src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
  <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.9.0/dist/components/sphere-collider.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
  <script src="https://unpkg.com/super-hands@^2.1.0/dist/super-hands.min.js"></script>
  <script type="text/javascript" src="js/gl-matrix-2.4.0.min.js">
  </script>
  <script type="text/javascript" src="js/jquery-3.2.1.min.js">
  </script>
  <script type="text/javascript" src="js/webgl-utils.js">
  </script>

</head>

<body>

  <a-scene physics="gravity: 0; restitution: 0.7">
    <a-assets>
      <img id="galaxy" src="./galaxy.jpg">
      <img id="galaxy-NMR" src="./galaxy.jpg">
      <img id="metal" src="./baixados.jpeg">
      <img id="metal-NMR" src="./baixados.jpeg">
    </a-assets>
    <a-sound src="./Music.mp3" autoplay="true" position="0 2 5"></a-sound>
    <a-sky material="color:#FFFFFF;
        src: #galaxy;
        repeat: 1 1;
        normal-map: #galaxy-NMR;
        normal-texture-repeat:1 1;
        normal-scale: 1 -1;"></a-sky>
    <a-entity>
      <a-camera position="0 0 50"></a-camera>
    </a-entity>


    <a-box class="player1" material="color:#FFFFFF;
        src: #metal;
        repeat: 1 1;
        normal-map: #metal-NMR;
        normal-texture-repeat:1 1;
        normal-scale: 1 -1;" position="-40 0 -10" height="8" width=" 1" depth="1 "> </a-box>
    </a-entity>
    <a-box class="player2" material="color:#FFFFFF;
        src: #metal;
        repeat: 1 1;
        normal-map: #metal-NMR;
        normal-texture-repeat:1 1;
        normal-scale: 1 -1;" position="40 0 -10" height="8" width=" 1" depth="1 "> </a-box>
    </a-entity>
    <a-entity>
      <a-box color="#8B4513" height="50" width=" 2" depth="1 " position="50 0 -11" static-body></a-box>
      <a-box color="#8B4513" height="50" width=" 2" depth="1 " position="-50 0 -11" static-body></a-box>
      <a-box color="#FFFFFF" height="50" width=" 2" depth="0 " position="0 0 -10.9" static-body></a-box>
      <a-box color="#8B4513" height="2" width=" 100" depth="1 " position="0 24 -11" static-body></a-box>
      <a-box color="#8B4513" height="2" width=" 100" depth="1 " position="0 -24 -11" static-body></a-box>
    </a-entity>
    <a-plane color="#000000" position="0 0 -11" height="50" width=" 100" depth="1 " side="double"
      material="opacity: 0.9; transparent: true" static-body></a-plane>
    <a-plane color="#000000" position="0 0 -10" height="50" width=" 100" depth="1 " side="double"
      material="opacity: 0.1; transparent: true" static-body></a-plane>
    <a-text value="PONG:2077" position="0 50 -10" align="center" scale="100 100"></a-text>
  </a-scene>

</body>
<script>

  let elem = document.querySelector('.player1');
  let elem2 = document.querySelector('.player2');

  $(document).ready(function () {
    $(document).on('keydown', function (e) {
      eventoTeclaPress(e);

    });

    $(document).on('keyup', function (e) {
      eventoTeclaSolta(e);
    });
  });
  function eventoTeclaPress(evento) {
    teclasPressionadas[evento.keyCode] = true;
    
    tratarTeclado();
    if (String.fromCharCode(evento.keyCode) == "F")
      filtro = (filtro + 1) % 3;
  }

  



  function eventoTeclaSolta(evento) {
    teclasPressionadas[evento.keyCode] = false;
  }
  var teclasPressionadas = {};

  function tratarTeclado() {
    if (teclasPressionadas[90] && elem.object3D.position.y < 19) {
      // Page Up
      elem.object3D.position.y += 0.8;
    }
    if (teclasPressionadas[88] && elem.object3D.position.y > -19) {
      // Page Down
      elem.object3D.position.y -= 0.8;
    }
    if (teclasPressionadas[79] && elem2.object3D.position.y < 19) {
      // Esquerda
      elem2.object3D.position.y += 0.80;
    }
    if (teclasPressionadas[80] && elem2.object3D.position.y > -19) { 
      // Direita
      elem2.object3D.position.y -= 0.8;
    }

  }

  



</script>

</html>